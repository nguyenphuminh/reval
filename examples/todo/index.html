<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<script src="./reval.js"></script>
</head>
<body>
	<script>
		const { el, setState, mount, unmount } = Reval;

		class TodoList {
			constructor() {
				this.state = { todos: [] };
			}

			render() {
				let input = "";

				return el("div", {}, [
					el("input", { oninput() { input = this.value }}),

					el("button", { 
						onclick: () => setState(this, { todos: [ ...this.state.todos, input ] }) 
					} , "Add"),

					el("ul", {}, this.state.todos.map(todo => el("li", {}, todo)))
				]);
			}
		}
		
		const todoList = new TodoList();

		mount(document.body, todoList);
	</script>
</body>
</html>
